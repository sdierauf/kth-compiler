Program(MainMethod(MethodDecl(UnitType(),Identifier(main),List(),List(),List(),Println(MethodCall(MethodCall(New(Identifier(Game)),Identifier(init),List()),Identifier(run),List(IntLit(10)))))),List(ClassDecl(Identifier(Matrix),None,List(VarDecl(IntArrayType(),Identifier(elements)), VarDecl(IntType(),Identifier(cols))),List(MethodDecl(Identifier(Matrix),Identifier(init),List(Formal(IntType(),Identifier(n)), Formal(IntType(),Identifier(m))),List(),List(Assign(Identifier(cols),Identifier(m)), Assign(Identifier(elements),NewIntArray(Times(Identifier(n),Identifier(m))))),Identifier(this)), MethodDecl(IntType(),Identifier(unfold),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),Plus(Times(Identifier(cols),Minus(Identifier(i),IntLit(1))),Minus(Identifier(j),IntLit(1)))), MethodDecl(IntType(),Identifier(index),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),ArrayRead(Identifier(elements),MethodCall(Identifier(this),Identifier(unfold),List(Identifier(i), Identifier(j))))), MethodDecl(IntType(),Identifier(assign),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j)), Formal(IntType(),Identifier(x))),List(),List(ArrayAssign(Identifier(elements),MethodCall(Identifier(this),Identifier(unfold),List(Identifier(i), Identifier(j))),Identifier(x))),Identifier(x)))), ClassDecl(Identifier(Board),None,List(VarDecl(Identifier(Matrix),Identifier(cells)), VarDecl(IntType(),Identifier(rows)), VarDecl(IntType(),Identifier(cols))),List(MethodDecl(Identifier(Board),Identifier(init),List(Formal(IntType(),Identifier(n)), Formal(IntType(),Identifier(m))),List(VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(j)), VarDecl(IntType(),Identifier(bitbucket))),List(Assign(Identifier(cells),MethodCall(New(Identifier(Matrix)),Identifier(init),List(Identifier(n), Identifier(m)))), Assign(Identifier(rows),Identifier(n)), Assign(Identifier(cols),Identifier(m)), Assign(Identifier(i),IntLit(1)), Assign(Identifier(j),IntLit(1)), While(Or(LessThan(Identifier(i),Identifier(rows)),Equals(Identifier(i),Identifier(rows))),Block(List(While(Or(LessThan(Identifier(j),Identifier(cols)),Equals(Identifier(j),Identifier(cols))),Block(List(Assign(Identifier(bitbucket),MethodCall(Identifier(this),Identifier(kill),List(Identifier(i), Identifier(j)))), Assign(Identifier(j),Plus(Identifier(j),IntLit(1)))))), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))), Assign(Identifier(j),IntLit(1)))))),Identifier(this)), MethodDecl(BooleanType(),Identifier(alive),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),Equals(MethodCall(Identifier(cells),Identifier(index),List(Identifier(i), Identifier(j))),IntLit(1))), MethodDecl(IntType(),Identifier(modulo),List(Formal(IntType(),Identifier(left)), Formal(IntType(),Identifier(right))),List(VarDecl(IntType(),Identifier(m))),List(Assign(Identifier(m),Minus(Identifier(left),Times(Identifier(right),Div(Identifier(left),Identifier(right))))), If(Equals(Identifier(m),IntLit(0)),Assign(Identifier(m),Identifier(right)),None)),Identifier(m)), MethodDecl(IntType(),Identifier(vmodulo),List(Formal(IntType(),Identifier(n))),List(),List(),MethodCall(Identifier(this),Identifier(modulo),List(Identifier(n), Identifier(rows)))), MethodDecl(IntType(),Identifier(hmodulo),List(Formal(IntType(),Identifier(n))),List(),List(),MethodCall(Identifier(this),Identifier(modulo),List(Identifier(n), Identifier(cols)))), MethodDecl(IntType(),Identifier(n_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Minus(Identifier(i),IntLit(1)))), MethodCall(Identifier(this),Identifier(hmodulo),List(Identifier(j)))))), MethodDecl(IntType(),Identifier(ne_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Minus(Identifier(i),IntLit(1)))), MethodCall(Identifier(this),Identifier(hmodulo),List(Plus(Identifier(j),IntLit(1))))))), MethodDecl(IntType(),Identifier(nw_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Minus(Identifier(i),IntLit(1)))), MethodCall(Identifier(this),Identifier(hmodulo),List(Minus(Identifier(j),IntLit(1))))))), MethodDecl(IntType(),Identifier(e_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Identifier(i))), MethodCall(Identifier(this),Identifier(hmodulo),List(Minus(Identifier(j),IntLit(1))))))), MethodDecl(IntType(),Identifier(w_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Identifier(i))), MethodCall(Identifier(this),Identifier(hmodulo),List(Plus(Identifier(j),IntLit(1))))))), MethodDecl(IntType(),Identifier(s_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Plus(Identifier(i),IntLit(1)))), MethodCall(Identifier(this),Identifier(hmodulo),List(Identifier(j)))))), MethodDecl(IntType(),Identifier(se_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Plus(Identifier(i),IntLit(1)))), MethodCall(Identifier(this),Identifier(hmodulo),List(Plus(Identifier(j),IntLit(1))))))), MethodDecl(IntType(),Identifier(sw_neighbour),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(index),List(MethodCall(Identifier(this),Identifier(vmodulo),List(Plus(Identifier(i),IntLit(1)))), MethodCall(Identifier(this),Identifier(hmodulo),List(Minus(Identifier(j),IntLit(1))))))), MethodDecl(IntType(),Identifier(neighbours),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),Plus(Plus(Plus(Plus(Plus(Plus(Plus(MethodCall(Identifier(this),Identifier(nw_neighbour),List(Identifier(i), Identifier(j))),MethodCall(Identifier(this),Identifier(n_neighbour),List(Identifier(i), Identifier(j)))),MethodCall(Identifier(this),Identifier(ne_neighbour),List(Identifier(i), Identifier(j)))),MethodCall(Identifier(this),Identifier(e_neighbour),List(Identifier(i), Identifier(j)))),MethodCall(Identifier(this),Identifier(w_neighbour),List(Identifier(i), Identifier(j)))),MethodCall(Identifier(this),Identifier(sw_neighbour),List(Identifier(i), Identifier(j)))),MethodCall(Identifier(this),Identifier(s_neighbour),List(Identifier(i), Identifier(j)))),MethodCall(Identifier(this),Identifier(se_neighbour),List(Identifier(i), Identifier(j))))), MethodDecl(IntType(),Identifier(kill),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(assign),List(Identifier(i), Identifier(j), IntLit(0)))), MethodDecl(IntType(),Identifier(birth),List(Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(j))),List(),List(),MethodCall(Identifier(cells),Identifier(assign),List(Identifier(i), Identifier(j), IntLit(1)))))), ClassDecl(Identifier(Game),None,List(VarDecl(Identifier(Board),Identifier(board)), VarDecl(IntType(),Identifier(rows)), VarDecl(IntType(),Identifier(cols))),List(MethodDecl(Identifier(Game),Identifier(init),List(),List(VarDecl(IntType(),Identifier(bitbucket))),List(Assign(Identifier(rows),IntLit(22)), Assign(Identifier(cols),IntLit(80)), Assign(Identifier(board),MethodCall(New(Identifier(Board)),Identifier(init),List(Identifier(rows), Identifier(cols)))), Assign(Identifier(bitbucket),MethodCall(Identifier(board),Identifier(birth),List(IntLit(1), IntLit(2)))), Assign(Identifier(bitbucket),MethodCall(Identifier(board),Identifier(birth),List(IntLit(2), IntLit(3)))), Assign(Identifier(bitbucket),MethodCall(Identifier(board),Identifier(birth),List(IntLit(3), IntLit(1)))), Assign(Identifier(bitbucket),MethodCall(Identifier(board),Identifier(birth),List(IntLit(3), IntLit(2)))), Assign(Identifier(bitbucket),MethodCall(Identifier(board),Identifier(birth),List(IntLit(3), IntLit(3))))),Identifier(this)), MethodDecl(IntType(),Identifier(iterate),List(),List(VarDecl(Identifier(Board),Identifier(next)), VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(j)), VarDecl(IntType(),Identifier(n)), VarDecl(IntType(),Identifier(bitbucket))),List(Assign(Identifier(next),MethodCall(New(Identifier(Board)),Identifier(init),List(Identifier(rows), Identifier(cols)))), Assign(Identifier(i),IntLit(1)), Assign(Identifier(j),IntLit(1)), While(Or(LessThan(Identifier(i),Identifier(rows)),Equals(Identifier(i),Identifier(rows))),Block(List(While(Or(LessThan(Identifier(j),Identifier(cols)),Equals(Identifier(j),Identifier(cols))),Block(List(Assign(Identifier(n),MethodCall(Identifier(board),Identifier(neighbours),List(Identifier(i), Identifier(j)))), If(MethodCall(Identifier(board),Identifier(alive),List(Identifier(i), Identifier(j))),Block(List(If(Or(LessThan(Minus(Identifier(n),IntLit(2)),IntLit(0)),LessThan(Minus(IntLit(3),Identifier(n)),IntLit(0))),Assign(Identifier(bitbucket),MethodCall(Identifier(next),Identifier(kill),List(Identifier(i), Identifier(j)))),Some(Assign(Identifier(bitbucket),MethodCall(Identifier(next),Identifier(birth),List(Identifier(i), Identifier(j)))))))),Some(Block(List(If(Equals(Identifier(n),IntLit(3)),Block(List(Assign(Identifier(bitbucket),MethodCall(Identifier(next),Identifier(birth),List(Identifier(i), Identifier(j)))))),Some(Assign(Identifier(bitbucket),MethodCall(Identifier(next),Identifier(kill),List(Identifier(i), Identifier(j)))))))))), Assign(Identifier(j),Plus(Identifier(j),IntLit(1)))))), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))), Assign(Identifier(j),IntLit(1))))), Assign(Identifier(board),Identifier(next))),Times(Identifier(rows),Identifier(cols))), MethodDecl(StringType(),Identifier(print),List(),List(VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(j)), VarDecl(StringType(),Identifier(m))),List(Assign(Identifier(m),StringLit()), Assign(Identifier(i),IntLit(1)), Assign(Identifier(j),IntLit(1)), While(Or(LessThan(Identifier(i),Identifier(rows)),Equals(Identifier(i),Identifier(rows))),Block(List(While(Or(LessThan(Identifier(j),Identifier(cols)),Equals(Identifier(j),Identifier(cols))),Block(List(If(MethodCall(Identifier(board),Identifier(alive),List(Identifier(i), Identifier(j))),Assign(Identifier(m),Plus(Identifier(m),StringLit(o))),Some(Assign(Identifier(m),Plus(Identifier(m),StringLit(.))))), Assign(Identifier(j),Plus(Identifier(j),IntLit(1)))))), Println(Identifier(m)), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))), Assign(Identifier(m),StringLit()), Assign(Identifier(j),IntLit(1)))))),Identifier(m)), MethodDecl(IntType(),Identifier(wait),List(),List(VarDecl(IntType(),Identifier(i)), VarDecl(Identifier(Game),Identifier(bitbucket1)), VarDecl(IntType(),Identifier(bitbucket2))),List(Assign(Identifier(bitbucket1),MethodCall(New(Identifier(Game)),Identifier(init),List())), Assign(Identifier(i),IntLit(0)), While(LessThan(Identifier(i),IntLit(1000)),Block(List(Assign(Identifier(bitbucket2),MethodCall(Identifier(bitbucket1),Identifier(iterate),List())), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))))))),Identifier(i)), MethodDecl(StringType(),Identifier(run),List(Formal(IntType(),Identifier(n))),List(VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(bitbucket))),List(Assign(Identifier(i),IntLit(0)), While(LessThan(Identifier(i),Identifier(n)),Block(List(Println(MethodCall(Identifier(this),Identifier(print),List())), Assign(Identifier(bitbucket),MethodCall(Identifier(this),Identifier(wait),List())), Assign(Identifier(bitbucket),MethodCall(Identifier(this),Identifier(iterate),List())), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))))))),StringLit())))))
