Program(MainMethod(MethodDecl(UnitType(),Identifier(main),List(),List(),List(),Println(Plus(StringLit(Final result: ),MethodCall(MethodCall(New(Identifier(NM)),Identifier(sqrt),List(IntLit(2))),Identifier(toString),List()))))),List(ClassDecl(Identifier(NM),None,List(),List(MethodDecl(Identifier(Real),Identifier(sqrt),List(Formal(IntType(),Identifier(n))),List(VarDecl(Identifier(Real),Identifier(guess)), VarDecl(Identifier(Real),Identifier(orig)), VarDecl(Identifier(Real),Identifier(result))),List(Assign(Identifier(guess),MethodCall(New(Identifier(Real)),Identifier(init),List(IntLit(1), IntLit(4)))), Assign(Identifier(orig),MethodCall(New(Identifier(Real)),Identifier(init),List(Identifier(n), IntLit(4)))), Assign(Identifier(result),MethodCall(Identifier(this),Identifier(sqrtIter),List(Identifier(guess), IntLit(0), IntLit(5), Identifier(orig))))),Identifier(result)), MethodDecl(Identifier(Real),Identifier(sqrtIter),List(Formal(Identifier(Real),Identifier(guess)), Formal(IntType(),Identifier(i)), Formal(IntType(),Identifier(maxIter)), Formal(Identifier(Real),Identifier(original))),List(VarDecl(Identifier(Real),Identifier(average)), VarDecl(Identifier(Real),Identifier(quotient)), VarDecl(Identifier(Real),Identifier(result))),List(If(Equals(Identifier(i),Identifier(maxIter)),Block(List(Assign(Identifier(result),Identifier(guess)))),Some(Block(List(Println(Plus(Plus(Plus(StringLit(Iteration ),Identifier(i)),StringLit(: Guess is )),MethodCall(Identifier(guess),Identifier(toString),List()))), Assign(Identifier(quotient),MethodCall(Identifier(original),Identifier(divide),List(Identifier(guess)))), Assign(Identifier(average),MethodCall(MethodCall(Identifier(guess),Identifier(plus),List(Identifier(quotient))),Identifier(divide),List(MethodCall(New(Identifier(Real)),Identifier(init),List(IntLit(2), IntLit(4)))))), Assign(Identifier(result),MethodCall(Identifier(this),Identifier(sqrtIter),List(Identifier(average), Plus(Identifier(i),IntLit(1)), Identifier(maxIter), Identifier(original))))))))),Identifier(result)))), ClassDecl(Identifier(Real),None,List(VarDecl(IntType(),Identifier(integerPart)), VarDecl(IntArrayType(),Identifier(digits)), VarDecl(Identifier(Util),Identifier(util))),List(MethodDecl(Identifier(Real),Identifier(init),List(Formal(IntType(),Identifier(intPart)), Formal(IntType(),Identifier(digitsCount))),List(VarDecl(IntType(),Identifier(i))),List(Assign(Identifier(util),New(Identifier(Util))), Assign(Identifier(integerPart),Identifier(intPart)), Assign(Identifier(digits),NewIntArray(Identifier(digitsCount))), Assign(Identifier(i),IntLit(0)), While(LessThan(Identifier(i),Identifier(digitsCount)),Block(List(ArrayAssign(Identifier(digits),Identifier(i),IntLit(0)), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))))))),Identifier(this)), MethodDecl(IntArrayType(),Identifier(getDigits),List(),List(),List(),Identifier(digits)), MethodDecl(IntType(),Identifier(getIntegerPart),List(),List(),List(),Identifier(integerPart)), MethodDecl(Identifier(Real),Identifier(setIntegerPart),List(Formal(IntType(),Identifier(p))),List(),List(Assign(Identifier(integerPart),Identifier(p))),Identifier(this)), MethodDecl(Identifier(Real),Identifier(divide),List(Formal(Identifier(Real),Identifier(other))),List(VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(int1)), VarDecl(IntType(),Identifier(int2)), VarDecl(IntType(),Identifier(len)), VarDecl(IntArrayType(),Identifier(otherDigits)), VarDecl(Identifier(Frac),Identifier(f)), VarDecl(Identifier(Real),Identifier(result))),List(If(LessThan(ArrayLength(Identifier(digits)),ArrayLength(MethodCall(Identifier(other),Identifier(getDigits),List()))),Block(List(Assign(Identifier(len),ArrayLength(Identifier(digits))))),Some(Block(List(Assign(Identifier(len),ArrayLength(MethodCall(Identifier(other),Identifier(getDigits),List()))))))), Assign(Identifier(int1),MethodCall(Identifier(this),Identifier(getIntegerPart),List())), Assign(Identifier(int2),MethodCall(Identifier(other),Identifier(getIntegerPart),List())), Assign(Identifier(i),IntLit(0)), Assign(Identifier(otherDigits),MethodCall(Identifier(other),Identifier(getDigits),List())), While(LessThan(Identifier(i),Identifier(len)),Block(List(Assign(Identifier(int1),Plus(Times(Identifier(int1),IntLit(10)),ArrayRead(Identifier(digits),Identifier(i)))), Assign(Identifier(int2),Plus(Times(Identifier(int2),IntLit(10)),ArrayRead(Identifier(otherDigits),Identifier(i)))), Assign(Identifier(i),Plus(Identifier(i),IntLit(1)))))), Assign(Identifier(f),MethodCall(New(Identifier(Frac)),Identifier(init),List(Identifier(int1), Identifier(int2)))), Assign(Identifier(result),MethodCall(MethodCall(New(Identifier(Real)),Identifier(init),List(IntLit(3), IntLit(4))),Identifier(evalFrac),List(Identifier(f))))),Identifier(result)), MethodDecl(Identifier(Real),Identifier(evalFrac),List(Formal(Identifier(Frac),Identifier(frac))),List(VarDecl(IntType(),Identifier(leftover)), VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(den))),List(Assign(Identifier(den),MethodCall(Identifier(frac),Identifier(getDenominator),List())), Assign(Identifier(integerPart),Div(MethodCall(Identifier(frac),Identifier(getNumerator),List()),Identifier(den))), If(Not(MethodCall(Identifier(frac),Identifier(isPos),List())),Block(List(Assign(Identifier(integerPart),Minus(IntLit(0),Identifier(integerPart))))),None), Assign(Identifier(leftover),MethodCall(Identifier(util),Identifier(mod),List(MethodCall(Identifier(frac),Identifier(getNumerator),List()), Identifier(den)))), Assign(Identifier(i),IntLit(0)), While(LessThan(Identifier(i),ArrayLength(Identifier(digits))),Block(List(Assign(Identifier(leftover),Times(IntLit(10),Identifier(leftover))), ArrayAssign(Identifier(digits),Identifier(i),Div(Identifier(leftover),Identifier(den))), Assign(Identifier(leftover),MethodCall(Identifier(util),Identifier(mod),List(Identifier(leftover), Identifier(den)))), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))))))),Identifier(this)), MethodDecl(Identifier(Real),Identifier(plus),List(Formal(Identifier(Real),Identifier(other))),List(VarDecl(IntType(),Identifier(len)), VarDecl(IntArrayType(),Identifier(od)), VarDecl(IntArrayType(),Identifier(resDig)), VarDecl(IntType(),Identifier(carry)), VarDecl(IntType(),Identifier(i)), VarDecl(IntType(),Identifier(sum)), VarDecl(Identifier(Real),Identifier(result))),List(Assign(Identifier(od),MethodCall(Identifier(other),Identifier(getDigits),List())), If(LessThan(ArrayLength(Identifier(digits)),ArrayLength(Identifier(od))),Block(List(Assign(Identifier(len),ArrayLength(Identifier(digits))))),Some(Block(List(Assign(Identifier(len),ArrayLength(Identifier(od))))))), Assign(Identifier(result),MethodCall(New(Identifier(Real)),Identifier(init),List(IntLit(0), Identifier(len)))), Assign(Identifier(resDig),MethodCall(Identifier(result),Identifier(getDigits),List())), Assign(Identifier(carry),IntLit(0)), Assign(Identifier(i),Minus(Identifier(len),IntLit(1))), While(Not(LessThan(Identifier(i),IntLit(0))),Block(List(Assign(Identifier(sum),Plus(Plus(ArrayRead(Identifier(digits),Identifier(i)),ArrayRead(Identifier(od),Identifier(i))),Identifier(carry))), Assign(Identifier(carry),Div(Identifier(sum),IntLit(10))), ArrayAssign(Identifier(resDig),Identifier(i),MethodCall(Identifier(util),Identifier(mod),List(Identifier(sum), IntLit(10)))), Assign(Identifier(i),Minus(Identifier(i),IntLit(1))))))),MethodCall(Identifier(result),Identifier(setIntegerPart),List(Plus(Plus(Identifier(integerPart),MethodCall(Identifier(other),Identifier(getIntegerPart),List())),Identifier(carry))))), MethodDecl(StringType(),Identifier(toString),List(),List(VarDecl(StringType(),Identifier(ret)), VarDecl(IntType(),Identifier(i))),List(Assign(Identifier(ret),Plus(Plus(StringLit(),Identifier(integerPart)),StringLit(.))), Assign(Identifier(i),IntLit(0)), While(LessThan(Identifier(i),ArrayLength(Identifier(digits))),Block(List(Assign(Identifier(ret),Plus(Identifier(ret),ArrayRead(Identifier(digits),Identifier(i)))), Assign(Identifier(i),Plus(Identifier(i),IntLit(1))))))),Identifier(ret)))), ClassDecl(Identifier(Frac),None,List(VarDecl(IntType(),Identifier(numerator)), VarDecl(IntType(),Identifier(denominator)), VarDecl(BooleanType(),Identifier(sign)), VarDecl(Identifier(Util),Identifier(util))),List(MethodDecl(Identifier(Frac),Identifier(init),List(Formal(IntType(),Identifier(n)), Formal(IntType(),Identifier(d))),List(),List(Assign(Identifier(util),New(Identifier(Util))), Assign(Identifier(numerator),MethodCall(Identifier(util),Identifier(abs),List(Identifier(n)))), Assign(Identifier(denominator),MethodCall(Identifier(util),Identifier(abs),List(Identifier(d)))), Assign(Identifier(sign),Or(And(LessThan(Identifier(n),IntLit(0)),LessThan(Identifier(d),IntLit(0))),And(Or(LessThan(IntLit(0),Identifier(n)),Equals(Identifier(n),IntLit(0))),Or(LessThan(IntLit(0),Identifier(d)),Equals(Identifier(d),IntLit(0))))))),MethodCall(Identifier(this),Identifier(simplify),List())), MethodDecl(IntType(),Identifier(getNumerator),List(),List(),List(),Identifier(numerator)), MethodDecl(IntType(),Identifier(getDenominator),List(),List(),List(),Identifier(denominator)), MethodDecl(Identifier(Frac),Identifier(setPos),List(Formal(BooleanType(),Identifier(positive))),List(),List(Assign(Identifier(sign),Identifier(positive))),Identifier(this)), MethodDecl(BooleanType(),Identifier(isPos),List(),List(),List(),Identifier(sign)), MethodDecl(Identifier(Frac),Identifier(simplify),List(),List(VarDecl(IntType(),Identifier(gcd_))),List(If(And(Not(Equals(Identifier(numerator),IntLit(0))),Not(Equals(Identifier(denominator),IntLit(0)))),Block(List(Assign(Identifier(gcd_),MethodCall(Identifier(util),Identifier(gcd),List(Identifier(numerator), Identifier(denominator)))), If(Not(Equals(Identifier(gcd_),IntLit(1))),Block(List(Assign(Identifier(numerator),Div(Identifier(numerator),Identifier(gcd_))), Assign(Identifier(denominator),Div(Identifier(denominator),Identifier(gcd_))))),None))),None)),Identifier(this)), MethodDecl(Identifier(Frac),Identifier(plus),List(Formal(Identifier(Frac),Identifier(other))),List(VarDecl(IntType(),Identifier(lcm)), VarDecl(IntType(),Identifier(lfac)), VarDecl(IntType(),Identifier(rfac))),List(Assign(Identifier(lcm),MethodCall(Identifier(util),Identifier(lcm),List(Identifier(denominator), MethodCall(Identifier(other),Identifier(getDenominator),List())))), Assign(Identifier(lfac),Div(Identifier(lcm),Identifier(denominator))), If(Not(Identifier(sign)),Block(List(Assign(Identifier(lfac),Minus(IntLit(0),Identifier(lfac))))),None), Assign(Identifier(rfac),Div(Identifier(lcm),MethodCall(Identifier(other),Identifier(getDenominator),List()))), If(Not(MethodCall(Identifier(other),Identifier(isPos),List())),Block(List(Assign(Identifier(rfac),Minus(IntLit(0),Identifier(rfac))))),None)),MethodCall(New(Identifier(Frac)),Identifier(init),List(Plus(Times(Identifier(lfac),Identifier(numerator)),Times(Identifier(rfac),MethodCall(Identifier(other),Identifier(getNumerator),List()))), Identifier(lcm)))), MethodDecl(Identifier(Frac),Identifier(minus),List(Formal(Identifier(Frac),Identifier(other))),List(),List(),MethodCall(Identifier(this),Identifier(plus),List(MethodCall(Identifier(other),Identifier(negative),List())))), MethodDecl(Identifier(Frac),Identifier(times),List(Formal(Identifier(Frac),Identifier(other))),List(),List(),MethodCall(MethodCall(MethodCall(New(Identifier(Frac)),Identifier(init),List(Times(Identifier(numerator),MethodCall(Identifier(other),Identifier(getNumerator),List())), Times(Identifier(denominator),MethodCall(Identifier(other),Identifier(getDenominator),List())))),Identifier(simplify),List()),Identifier(setPos),List(Or(And(MethodCall(Identifier(this),Identifier(isPos),List()),MethodCall(Identifier(other),Identifier(isPos),List())),And(Not(MethodCall(Identifier(this),Identifier(isPos),List())),Not(MethodCall(Identifier(other),Identifier(isPos),List()))))))), MethodDecl(Identifier(Frac),Identifier(divided),List(Formal(Identifier(Frac),Identifier(other))),List(),List(),MethodCall(Identifier(this),Identifier(times),List(MethodCall(Identifier(other),Identifier(inverse),List())))), MethodDecl(Identifier(Frac),Identifier(inverse),List(),List(),List(),MethodCall(New(Identifier(Frac)),Identifier(init),List(Identifier(denominator), Identifier(numerator)))), MethodDecl(Identifier(Frac),Identifier(negative),List(),List(),List(),MethodCall(MethodCall(New(Identifier(Frac)),Identifier(init),List(Identifier(numerator), Identifier(denominator))),Identifier(setPos),List(False()))), MethodDecl(StringType(),Identifier(toString),List(),List(VarDecl(StringType(),Identifier(result))),List(If(Identifier(sign),Block(List(Assign(Identifier(result),StringLit()))),Some(Block(List(Assign(Identifier(result),StringLit(-))))))),Plus(Plus(Plus(Identifier(result),Identifier(numerator)),StringLit(/)),Identifier(denominator))))), ClassDecl(Identifier(Util),None,List(),List(MethodDecl(IntType(),Identifier(abs),List(Formal(IntType(),Identifier(v))),List(VarDecl(IntType(),Identifier(res))),List(If(Not(LessThan(Identifier(v),IntLit(0))),Block(List(Assign(Identifier(res),Identifier(v)))),Some(Block(List(Assign(Identifier(res),Minus(IntLit(0),Identifier(v)))))))),Identifier(res)), MethodDecl(IntType(),Identifier(gcd),List(Formal(IntType(),Identifier(m_)), Formal(IntType(),Identifier(n_))),List(VarDecl(IntType(),Identifier(t)), VarDecl(IntType(),Identifier(r)), VarDecl(IntType(),Identifier(result)), VarDecl(IntType(),Identifier(m)), VarDecl(IntType(),Identifier(n))),List(Assign(Identifier(m),MethodCall(Identifier(this),Identifier(abs),List(Identifier(m_)))), Assign(Identifier(n),MethodCall(Identifier(this),Identifier(abs),List(Identifier(n_)))), If(LessThan(Identifier(m),Identifier(n)),Block(List(Assign(Identifier(t),Identifier(m)), Assign(Identifier(m),Identifier(n)), Assign(Identifier(n),Identifier(t)))),None), Assign(Identifier(r),MethodCall(Identifier(this),Identifier(mod),List(Identifier(m), Identifier(n)))), If(Equals(Identifier(r),IntLit(0)),Block(List(Assign(Identifier(result),Identifier(n)))),Some(Block(List(Assign(Identifier(result),MethodCall(Identifier(this),Identifier(gcd),List(Identifier(n), Identifier(r))))))))),Identifier(result)), MethodDecl(IntType(),Identifier(lcm),List(Formal(IntType(),Identifier(m)), Formal(IntType(),Identifier(n))),List(),List(),Div(Times(Identifier(n),Identifier(m)),MethodCall(Identifier(this),Identifier(gcd),List(Identifier(n), Identifier(m))))), MethodDecl(IntType(),Identifier(mod),List(Formal(IntType(),Identifier(m)), Formal(IntType(),Identifier(n))),List(),List(),Minus(Identifier(m),Times(Identifier(n),Div(Identifier(m),Identifier(n)))))))))
